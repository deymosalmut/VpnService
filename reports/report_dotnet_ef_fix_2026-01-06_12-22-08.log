----------------------------------------------------------------
>>> dotnet info
----------------------------------------------------------------
----------------------------------------------------------------
>>> dotnet --info (head)
----------------------------------------------------------------
+ CMD: bash -lc dotnet --info | sed -n '1,80p'
ПАКЕТ SDK ДЛЯ .NET:
 Version:           9.0.203
 Commit:            dc7acfa194
 Workload version:  9.0.200-manifests.9df47798
 MSBuild version:   17.13.20+a4ef1e90f

Среда выполнения:
 OS Name:     ubuntu
 OS Version:  24.04
 OS Platform: Linux
 RID:         linux-x64
 Base Path:   /usr/share/dotnet/sdk/9.0.203/

Установленные рабочие нагрузки .NET:
Нет установленных рабочих нагрузок для отображения.
Настроено на использование loose manifests при установке новых манифестов.

Host:
  Version:      9.0.4
  Architecture: x64
  Commit:       f57e6dc747

.NET SDKs installed:
  8.0.416 [/usr/share/dotnet/sdk]
  9.0.203 [/usr/share/dotnet/sdk]

.NET runtimes installed:
  Microsoft.AspNetCore.App 8.0.22 [/usr/share/dotnet/shared/Microsoft.AspNetCore.App]
  Microsoft.AspNetCore.App 9.0.4 [/usr/share/dotnet/shared/Microsoft.AspNetCore.App]
  Microsoft.NETCore.App 8.0.22 [/usr/share/dotnet/shared/Microsoft.NETCore.App]
  Microsoft.NETCore.App 9.0.4 [/usr/share/dotnet/shared/Microsoft.NETCore.App]

Other architectures found:
  None

Environment variables:
  Not set

global.json file:
  Not found

Learn more:
  https://aka.ms/dotnet/info

Download .NET:
  https://aka.ms/dotnet/download
STATUS: OK (exit=0)
----------------------------------------------------------------
>>> nuget sources
----------------------------------------------------------------
----------------------------------------------------------------
>>> dotnet nuget list source
----------------------------------------------------------------
+ CMD: bash -lc dotnet nuget list source
Зарегистрированные источники:
  1.  nuget.org [Включено]
      https://api.nuget.org/v3/index.json
STATUS: OK (exit=0)
----------------------------------------------------------------
>>> Ensure nuget.org source exists
----------------------------------------------------------------
+ CMD: bash -lc ensure_nuget_org_source() {       if dotnet nuget list source | grep -qiE 'nuget\.org'; then exit 0; fi;       dotnet nuget add source 'https://api.nuget.org/v3/index.json' -n 'nuget.org';     }; ensure_nuget_org_source
STATUS: OK (exit=0)
----------------------------------------------------------------
>>> dotnet nuget locals all --clear
----------------------------------------------------------------
+ CMD: bash -lc dotnet nuget locals all --clear
Очищается кэш HTTP NuGet: /root/.local/share/NuGet/http-cache
Очищается глобальный каталог пакетов NuGet: /root/.nuget/packages/
Очищается временный кэш NuGet: /tmp/NuGetScratchroot
Очищается кэш подключаемых модулей NuGet: /root/.local/share/NuGet/plugin-cache
Локальные ресурсы удалены.
STATUS: OK (exit=0)
----------------------------------------------------------------
>>> tool-manifest (local tool)
----------------------------------------------------------------
----------------------------------------------------------------
>>> Create tool-manifest if missing
----------------------------------------------------------------
+ CMD: bash -lc 
    cd '/opt/vpn-service'
    if [[ -f .config/dotnet-tools.json ]]; then
      echo 'Tool-manifest exists: .config/dotnet-tools.json'
      exit 0
    fi
    dotnet new tool-manifest
  
Tool-manifest exists: .config/dotnet-tools.json
STATUS: OK (exit=0)
Detected EF major.minor: 9.0
Will install dotnet-ef version: 9.0.* (local tool)
----------------------------------------------------------------
>>> install/restore dotnet-ef
----------------------------------------------------------------
----------------------------------------------------------------
>>> dotnet tool install dotnet-ef --version 9.0.*
----------------------------------------------------------------
+ CMD: bash -lc 
    cd '/opt/vpn-service'
    dotnet tool install dotnet-ef --version '9.0.*' || exit 11
  
Вы можете вызвать средство из этого каталога с помощью следующих команд: "dotnet tool run dotnet-ef" или "dotnet dotnet-ef".
Средство "dotnet-ef" (версия "9.0.11") успешно установлено. В файл манифеста /opt/vpn-service/.config/dotnet-tools.json добавлена запись.
STATUS: OK (exit=0)
----------------------------------------------------------------
>>> dotnet tool restore
----------------------------------------------------------------
+ CMD: bash -lc cd '/opt/vpn-service' && dotnet tool restore
Средство "dotnet-ef" (версия "9.0.11") было восстановлено. Доступные команды: dotnet-ef

Восстановление выполнено успешно.
STATUS: OK (exit=0)
----------------------------------------------------------------
>>> verify
----------------------------------------------------------------
----------------------------------------------------------------
>>> dotnet ef --version
----------------------------------------------------------------
+ CMD: bash -lc cd '/opt/vpn-service' && dotnet ef --version
Entity Framework Core .NET Command-line Tools
9.0.11
STATUS: OK (exit=0)
----------------------------------------------------------------
>>> dotnet ef --help (smoke)
----------------------------------------------------------------
+ CMD: bash -lc cd '/opt/vpn-service' && dotnet ef --help | head -n 20
Entity Framework Core .NET Command-line Tools 9.0.11

Usage: dotnet ef [options] [command]

Options:
  --version        Show version information
  -h|--help        Show help information
  -v|--verbose     Show verbose output.
  --no-color       Don't colorize output.
  --prefix-output  Prefix output with level.

Commands:
  database    Commands to manage the database.
  dbcontext   Commands to manage DbContext types.
  migrations  Commands to manage migrations.

Use "dotnet ef [command] --help" for more information about a command.
STATUS: OK (exit=0)
Done. Report: /opt/vpn-service/reports/report_dotnet_ef_fix_2026-01-06_12-22-08.log
